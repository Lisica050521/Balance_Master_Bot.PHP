# Telegram Bot для управления балансом

Этот Telegram-бот позволяет пользователям создавать учетные записи, пополнять и списывать деньги с их счета, а также проверять текущий баланс. Все операции с балансом записываются в базу данных, и бот автоматически управляет процессом пополнения и списания средств.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone <URL вашего репозитория>
   ```

2. Установите зависимости с помощью Composer:

   ```bash
   composer install
   ```

3. Создайте файл `.env` в корне проекта, используя пример из `.env.example`, и настройте параметры, такие как доступ к базе данных и Telegram API.

4. Запустите бота:

   ```bash
   php bot.php
   ```

## Описание функционала

### Создание учетной записи

Когда пользователь пишет боту в первый раз, создается учетная запись с начальным балансом `$0.00`.

### Пополнение счета

Пользователь может отправить число для пополнения счета. Бот добавляет указанную сумму к текущему балансу.

**Пример:** отправить `100` — баланс увеличится на 100 долларов.

### Списание средств

Пользователь может отправить отрицательное число для списания средств. Бот списывает указанную сумму с баланса.

Если на счете недостаточно средств, бот отправит сообщение об ошибке.

**Пример:** отправить `-50` — баланс уменьшится на 50 долларов.

### Формат чисел

Бот поддерживает числа с отделением дробной части как точкой, так и запятой. Например, `100.50` или `100,50`.

### Текст вместо числа

Если пользователь отправляет текст вместо числа, бот отправит сообщение:

> **Пожалуйста, отправьте число для пополнения или списания со счета.**

### Баланс

После каждой операции бот отправляет пользователю сообщение с актуальным балансом.

### Ошибки

Если пользователь пытается списать больше, чем у него есть на счете, бот отправит сообщение об ошибке:

> **Ошибка: недостаточно средств на счете.**

## Пример работы бота

### Первый запуск

- **Пользователь пишет:** `старт`
- **Ответ бота:** `"Ваш аккаунт был создан. Баланс: $0.00"`

### Пополнение счета

- **Пользователь пишет:** `100`
- **Ответ бота:** `"Ваш баланс: 100.00"`

### Списание средств

- **Пользователь пишет:** `-50`
- **Ответ бота:** `"Ваш баланс: 50.00"`

### Ошибка при списании

- **Пользователь пишет:** `-100`
- **Ответ бота:** `"Ошибка: недостаточно средств на счете"`

### Текст вместо числа

- **Пользователь пишет:** `abc`
- **Ответ бота:** `"Пожалуйста, отправьте число для пополнения или списания со счета."`

## Логирование

Для корректной работы бота важно использовать логирование ошибок и событий. Убедитесь, что ваш сервер или среда выполнения поддерживает корректное логирование, чтобы отслеживать важные события.

![Скриншот работы бота] (https://private-user-images.githubusercontent.com/83720041/395339931-1ba350dc-fdf9-46d6-9f99-929083e8d075.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzQwNDA2ODcsIm5iZiI6MTczNDA0MDM4NywicGF0aCI6Ii84MzcyMDA0MS8zOTUzMzk5MzEtMWJhMzUwZGMtZmRmOS00NmQ2LTlmOTktOTI5MDgzZThkMDc1LmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMTIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjEyVDIxNTMwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThlYWRmMTU2YjI3NzlmYTFkOGIzNGRmMTcyNWY0ZWI2MmUzOGE5OTZiODMwYzdhMjRjMzI1YWMxZjEyMmZhYWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.SE-ozXgK07mo7uPwo_KtbhotRBrSyFTlRSX_kK7jrgE)
